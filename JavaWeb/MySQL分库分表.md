1，主从复制，读写分离
对主库修改数据，查询使用从库。一主多从，来降低数据库读取压力。

2，分库分表
根据实体业务来分库，分表。如，根据数据的活跃性，根据用户uid等。

3，mysql 不同存储引擎区别
InnoDB 用于数据完整性/写性能要求比较高的应用. MyISAM 适合查询应用。


# 分库
纵向扩展就是增加单台服务器的性能，如升级cpu，内存，磁盘换ssd等，这是最简单的方案，但是也是最烧钱的。
横向扩展就是对数据进行拆分，放置到多台服务器（相对廉价的服务器）上。对数据进行拆分，一般是对数据进行合理的分库，再对分离出来的库进行调优。即将单台服务器上的压力分布到多台机器中。这就是分库的理由


# 分表
## 理由
当一张表的数据达到几百万时，你查询一次所花的时间会变多，如果有联合查询的话，我想有可能会死在那儿了。分表的目的就在于此，减小数据库的负担，缩短查询时间。
当MySQL的单表的数据达到一定量级的时候（如一千万）的时候，就需要考虑进行分表。因为此时的MySQL的执行性能就会下降（这和mysql本身的实现机制有关）。

mysql中有一种机制是表锁定（myisam）和行锁定（innodb）
表锁定表示你们都不能对这张表进行操作，必须等我对 表操作完才行。行锁定也一样，别的sql必须等我对这条数据操作完了，才能对这条数据进行操作。

## 方式
### 垂直切分Scale Up
垂直拆分是指数据表列的拆分，把一张列比较多的表拆分为多张表 或者 将表按模块划分到不同数据库表中（分库或者拆表)
先对订单库进行垂直切分，将原有的订单库分为基础订单库、订单流程库等

### 水平切分Scale Out
水平拆分是指数据表行的拆分，比如表的行数超过200万行时，就会变慢，这时可以把一张的表的数据拆成多张表来存放==（分表）==。

切分策略：


# 唯一ID方案
1. 利用数据库自增ID  
优点：最简单。  
缺点：单点风险、单机性能瓶颈。

2. 利用数据库集群并设置相应的步长（Flickr方案）  
优点：高可用、ID较简洁。  
缺点：需要单独的数据库集群。

3. Twitter Snowflake  
优点：高性能高可用、易拓展。  
缺点：需要独立的集群以及ZK。

4. 一大波GUID、Random算法  
优点：简单。  
缺点：生成ID较长，有重复几率。